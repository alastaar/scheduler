{"version":3,"file":"static/webpack/static/development/pages/request-item.js.010c2d799d272962f9a8.hot-update.js","sources":["webpack:///./components/SingleRequest.js"],"sourcesContent":["import React, { Component } from 'react';\nimport gql from 'graphql-tag';\nimport Link from 'next/link';\nimport { Query } from 'react-apollo';\nimport Error from './ErrorMessage';\nimport styled from 'styled-components';\nimport Head from 'next/head';\nimport ApproveRequest from './ApproveRequest';\n\nconst SingleItemStyles = styled.div`\n  max-width: 1200px;\n  margin: 2rem auto;\n  box-shadow: ${ props => props.theme.bs };\n  display: grid;\n  grid-auto-columns: 1fr;\n  grid-auto-flow: column;\n  min-height: 800px;\n  img{\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n  .details{\n    margin: 3rem;\n    font-size: 2rem;\n  }\n  button {\n    background-color: black;\n    color: white;\n    padding: 10px 15px;\n  }\n  a {\n    background-color: black;\n    color: white;\n    padding: 10px 15px;\n    display: inline-block;\n  }\n`;\n\nconst SINGLE_REQUEST_QUERY = gql`\n  query SINGLE_REQUEST_QUERY($id: ID!){\n    request(where: { id: $id }) {\n      id\n      name\n      lastName\n      email\n      referenceImage\n      timeOne\n      dateOne\n      timeTwo\n      dateTwo\n      timeThree\n      dateOne\n      details\n      approved\n    }\n  }\n`;\n\n\nclass SingleRequest extends Component{\n  render(){\n    return(\n      <Query query={ SINGLE_REQUEST_QUERY } variables={{\n        id: this.props.id,\n      }}\n      >\n        {({ error, loading, data }) => {\n          if(error) return <Error errror={ error } />;\n          if(loading) return <p>loading..</p>;\n          if(!data.request) return <p>No request found </p>\n          const request = data.request;\n          return <SingleItemStyles>\n            <Head>\n              <title> Scratcher | { request.name } </title>\n            </Head>\n            <img src={ request.referenceImage } alt= { request.name } />\n            <div className=\"details\">\n              <h2>Viewing request from { request.name } { request.lastName }</h2>\n              <p>@ { request.timeOne }</p>\n              <p>On { request.dateOne }</p>\n              <p>{request.details}</p>\n              { request.approved==\"no\" &&\n              <>\n              <ApproveRequest id={request.id}\n              dateOne={request.dateOne}\n              dateTwo={request.dateTwo}\n              dateThree={request.dateThree}\n              timeOne={request.timeOne}\n              timeTwo={request.timeTwo}\n              timeThree={request.timeThree}\n              >Approve</ApproveRequest>\n              <Link href={{\n                pathname: '/request',\n                query: { id: request.id, title: request.title, description: request.description, price: request.price },\n              }}>\n                <a>\n                  Reject Request\n                </a>\n              </Link>\n              </>\n            }\n            { request.approved==\"yes\" &&\n            <>\n              <Link href={{\n                pathname: '/request',\n                query: { id: request.id, title: request.title, description: request.description, price: request.price },\n              }}>\n                <a>\n                  Cancel Approval\n                </a>\n              </Link>\n              <Link href={{\n                pathname: '/request',\n                query: { id: request.id, title: request.title, description: request.description, price: request.price },\n              }}>\n                <a>\n                  Reschedule Request\n                </a>\n              </Link>\n            </>\n          }\n          { request.approved==\"confirmed\" &&\n          <>\n          <ApproveRequest id={request.id}\n          dateOne={request.dateOne}\n          dateTwo={request.dateTwo}\n          dateThree={request.dateThree}\n          timeOne={request.timeOne}\n          timeTwo={request.timeTwo}\n          timeThree={request.timeThree}\n          >Approve</ApproveRequest>\n          <Link href={{\n            pathname: '/request',\n            query: { id: request.id, title: request.title, description: request.description, price: request.price },\n          }}>\n            <a>\n              Reschedule Request\n            </a>\n          </Link>\n          </>\n        }\n            </div>\n          </SingleItemStyles>;\n        }}\n      </Query>\n    )\n  }\n}\n\nexport default SingleRequest;\nexport { SINGLE_REQUEST_QUERY };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AA2BA;AACA;AAoBA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAGA;;;;AAvFA;AACA;AAyFA;;;;;A","sourceRoot":""}