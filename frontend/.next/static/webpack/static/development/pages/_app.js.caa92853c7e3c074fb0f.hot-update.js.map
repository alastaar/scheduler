{"version":3,"file":"static/webpack/static/development/pages/_app.js.caa92853c7e3c074fb0f.hot-update.js","sources":["webpack:///./components/Cart.js"],"sourcesContent":["import React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { adopt } from 'react-adopt';\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport Money from './Money';\n\nconst LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n\n`;\n\nconst TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n/*esline-disable*/\nconst Composed = adopt({\n  user: ({ render }) => <User>{render}</User>,\n  toggleCart: ({ render }) => <Mutation mutation={ TOGGLE_CART_MUTATION }>{render}</Mutation>,\n  localState: ({ render }) =>  <Query query={ LOCAL_STATE_QUERY }>{render}</Query>,\n});\n\n/*esline-enable*/\nconst Cart = () => (\n  <Composed>\n    {({ user, toggleCart, localState }) => {\n      const me = user.data.me;\n      if(!me) return null;\n      return(\n\n               <CartStyles open={ localState.data.cartOpen }>\n                <header>\n                  <CloseButton onClick={toggleCart} title=\"close\">&times; </CloseButton>\n                  <Supreme>{me.name}'s Cart</Supreme>\n                  <p>You have {me.cart.length} appointment{me.cart.length === 1 ? '' : 's'} in your cart </p>\n                </header>\n                <ul>\n                  { me.cart.map(cartRequest => <CartItem key={cartRequest.id} cartRequest={cartRequest}/> )}\n                </ul>\n\n                <p> + $5.00 Convenience Fee </p>\n                <footer>\n                  <p>{formatMoney(calcTotalPrice(me.cart))}</p>\n                  {me.cart.length && (\n                    <Money>\n                      <SickButton>Confirm Appointment</SickButton>\n                    </Money>\n                  )}\n                </footer>\n\n              </CartStyles>\n        );\n      }}\n    </Composed>\n);\n\nexport default Cart;\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATION };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAOA;AAKA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAMA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA7BA;AACA;AAgCA;;;;;A","sourceRoot":""}