{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{21:function(e,n,t){\"use strict\";t.d(n,\"a\",function(){return P});var r=t(0),a=t.n(r),o=t(4),i=t(6),u=t(5),l=t.n(u),s=t(39),c=t(27);t(1);function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function b(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(){var e=g([\"\\n  query {\\n    users {\\n      id\\n      name\\n      lastName\\n      email\\n      price\\n      shop\\n      instagramHandle\\n      image\\n      permissions\\n      stripeToken\\n      artist\\n    }\\n  }\\n\"]);return h=function(){return e},e}function v(){var e=g([\"\\n  mutation updatePermissions($permissions: [Permission], $userId: ID!) {\\n    updatePermissions(permissions: $permissions, userId: $userId) {\\n      id\\n      permissions\\n      name\\n      lastName\\n      email\\n    }\\n  }\\n\"]);return v=function(){return e},e}function g(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var w=[\"ADMIN\",\"USER\",\"TATTOOARTIST\",\"PERMISSIONUPDATE\"],O=l()(v()),P=l()(h()),j=function(e){function n(){var e,t,r,a;!function(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,n);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=this,a=(e=d(n)).call.apply(e,[this].concat(i)),t=!a||\"object\"!==m(a)&&\"function\"!=typeof a?b(r):a,E(b(b(t)),\"state\",{permissions:t.props.user.permissions}),E(b(b(t)),\"handlePermissionChange\",function(e){var n=e.target,r=p(t.state.permissions);n.checked?r.push(n.value):r=r.filter(function(e){return e!==n.value}),t.setState({permissions:r})}),t}var t,r,u;return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(n,a.a.Component),t=n,(r=[{key:\"render\",value:function(){var e=this,n=this.props.user;return a.a.createElement(o.Mutation,{mutation:O,variables:{permissions:this.state.permissions,userId:this.props.user.id}},function(t,r){var o=r.loading,u=r.error;return a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(\"tr\",null,a.a.createElement(\"td\",{colspan:\"8\"},a.a.createElement(i.a,{error:u}))),a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,n.name,\" \",n.lastName),a.a.createElement(\"td\",null,n.email),w.map(function(t){return a.a.createElement(\"td\",{key:t},a.a.createElement(\"label\",{htmlFor:\"\".concat(n.id,\"-permission-\").concat(t)},a.a.createElement(\"input\",{id:\"\".concat(n.id,\"-permission-\").concat(t),type:\"checkbox\",checked:e.state.permissions.includes(t),value:t,onChange:e.handlePermissionChange})))}),a.a.createElement(\"td\",null,a.a.createElement(c.a,{type:\"button\",disabled:o,onClick:t},\"Updat\",o?\"ing\":\"e\"))))})}}])&&f(t.prototype,r),u&&f(t,u),n}();n.b=function(e){return a.a.createElement(o.Query,{query:P},function(e){var n=e.data,t=(e.loading,e.error);return a.a.createElement(\"div\",null,a.a.createElement(i.a,{error:t}),a.a.createElement(\"div\",null,a.a.createElement(\"h2\",null,\"Manage Permissions\"),a.a.createElement(s.a,null,a.a.createElement(\"thead\",null,a.a.createElement(\"tr\",null,a.a.createElement(\"th\",null,\"Name\"),a.a.createElement(\"th\",null,\"Email\"),w.map(function(e){return a.a.createElement(\"th\",{key:e},e)}),a.a.createElement(\"th\",null,\"👇🏻\"))),a.a.createElement(\"tbody\",null,n.users.map(function(e){return a.a.createElement(j,{user:e,key:e.id})})))))})}},801:function(e,n,t){__NEXT_REGISTER_PAGE(\"/permissions\",function(){return e.exports=t(802),{page:e.exports.default}})},802:function(e,n,t){\"use strict\";t.r(n);var r=t(0),a=t.n(r),o=t(21),i=t(33);n.default=function(e){return a.a.createElement(\"div\",null,a.a.createElement(i.a,null,a.a.createElement(o.b,null)))}}},[[801,1,0]]]);","extractedComments":[]}