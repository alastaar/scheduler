{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{803:function(e,t,n){__NEXT_REGISTER_PAGE(\"/preferences\",function(){return e.exports=n(837),{page:e.exports.default}})},837:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),o=n(4),l=n(6),c=n(5),u=n.n(c),i=n(39),f=n(3),s=(n(1),n(8));function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([\"\\n  mutation updatePreferences($emailPreference: [EmailPreference], $userId: ID!) {\\n    updatePreferences(emailPreference: $emailPreference, userId: $userId) {\\n      id\\n      emailPreference\\n      name\\n      lastName\\n      email\\n    }\\n  }\\n\"]);return v=function(){return e},e}var w=u()(v()),g=[\"REQUESTCREATED\",\"REQUESTAPPROVED\",\"REQUESTCONFIRMED\",\"REQUESTREJECTED\",\"REQUESTDELETED\",\"APPOINTMENTTOMORROW\",\"UPDATEDSTRIPEACCOUNT\",\"UPDATEDCARD\"],P=f.b.button.withConfig({displayName:\"EmailPreferences__SickNastyButton\",componentId:\"sc-25ayq9-0\"})([\"display:block;width:50%;margin:0 auto;background:\",\";color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);transition:all 0.5s;&[disabled]{opacity:0.5;}\"],function(e){return e.theme.red}),O=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=this,a=(e=d(t)).call.apply(e,[this].concat(l)),n=!a||\"object\"!==p(a)&&\"function\"!=typeof a?y(r):a,b(y(y(n)),\"state\",{preferences:n.props.user.emailPreference}),b(y(y(n)),\"handlePreferenceChange\",function(e){var t=e.target,r=m(n.state.preferences);t.checked?r.push(t.value):r=r.filter(function(e){return e!==t.value}),n.setState({preferences:r})}),n}var n,r,c;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.a.Component),n=t,(r=[{key:\"render\",value:function(){var e=this,t=this.props.user;return a.a.createElement(o.Mutation,{mutation:w,variables:{emailPreference:this.state.preferences,userId:this.props.user.id}},function(n,r){var o=r.loading,c=r.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,null,c&&a.a.createElement(\"tr\",null,a.a.createElement(\"td\",{colspan:\"8\"},a.a.createElement(l.a,{error:c}))),a.a.createElement(\"p\",null,t.name,\" \",t.lastName),a.a.createElement(\"p\",null,t.email),g.map(function(n){return a.a.createElement(\"p\",{key:n},a.a.createElement(\"label\",{htmlFor:\"\".concat(t.id,\"-preference-\").concat(n)},a.a.createElement(\"input\",{id:\"\".concat(t.id,\"-preference-\").concat(n),type:\"checkbox\",checked:e.state.preferences.includes(n),value:n,onChange:e.handlePreferenceChange})))})),a.a.createElement(P,{type:\"button\",disabled:o,onClick:n},\"Updat\",o?\"ing\":\"e\"))})}}])&&E(n.prototype,r),c&&E(n,c),t}(),T=function(e){return a.a.createElement(s.b,null,function(e){var t=e.data.me;return a.a.createElement(o.Query,{query:s.a},function(e){e.data,e.loading;var n=e.error;return a.a.createElement(\"div\",null,a.a.createElement(l.a,{error:n}),a.a.createElement(\"div\",null,a.a.createElement(\"h2\",null,\"Manage Email Preferences\"),a.a.createElement(i.a,null,a.a.createElement(\"p\",null,\"Name\"),a.a.createElement(\"p\",null,\"Your Email\"),a.a.createElement(\"p\",null,\"Email when someone creates a request for you\"),a.a.createElement(\"p\",null,\"Email that your request has been approved\"),a.a.createElement(\"p\",null,\"Email when the request has been confirmed and is all set\"),a.a.createElement(\"p\",null,\"Email when the request has been rejected with the reason for rejection\"),a.a.createElement(\"p\",null,\"Email when the request has been deleted\"),a.a.createElement(\"p\",null,\"Email that you have an appointment for tomorrow, and the time of the appointment\"),a.a.createElement(\"p\",null,\"Email that you have updated your financial information\"),a.a.createElement(\"p\",null,\"Email that you have updated your card for recieving payouts\")),a.a.createElement(O,{user:t,key:t.id})))})})},S=n(33);t.default=function(e){return a.a.createElement(\"div\",null,a.a.createElement(S.a,null,a.a.createElement(T,null)))}}},[[803,1,0]]]);","extractedComments":[]}